function receiveMessageFromClaripDnsManager(e){var o="https://"+claripCdnHost;if(e.origin===o&&void 0!==e.data){var n=e.data.messageType;void 0!==n&&("close-dns-manager"===n?hideDoNotSellManager():"proceed-to-dsr-form"===n&&(enableEnforcementScope?checkEnforcementScope(e.data.stateSelected)&&setCookie(doNotSellCookieName,doNotSellCookieValue,doNotSellCookieExpirationAge):setCookie(doNotSellCookieName,doNotSellCookieValue,doNotSellCookieExpirationAge),hideDoNotSellManager(),window.open(dnsSubmissionUrl,"_blank")))}}function createClaripDoNotSellManager(){var e=getDomainName(window.location.hostname),o=document.createElement("div");o.classList.add("clarip-dns-manager"),document.getElementsByTagName("body")[0].appendChild(o);var n="undefined"!=typeof dnsControllerType&&"option-1"===dnsControllerType?globalDnsDeployment?"controller.html":e+"-controller.html":globalDnsDeployment?"dsr-controller.html":e+"-dsr-controller.html",t='<iframe id="clarip-dns-manager-component" src="https://'+claripCdnHost+"/"+clientName+"/donotsell/"+n+"?start="+e+"&client="+clientName+"&brand="+window.location.hostname+"&globalDnsDeployment="+globalDnsDeployment+"&pageUrl="+encodeURIComponent(window.location.href)+'" width="100%" height="100%" frameborder="no" scrolling="yes" style="position: relative; margin-bottom: -20px;"></iframe>';o.innerHTML='<div class="clarip-dns-manager-content">'+t+"</div>"}function claripDoNotSellManagerHandler(){enableDoNotSellManager()}function showDoNotSellManager(){document.querySelector(".clarip-dns-manager").classList.add("show-dns-manager","clarip-dns-manager-position")}function hideDoNotSellManager(){document.querySelector(".clarip-dns-manager").classList.remove("clarip-dns-manager-position","show-dns-manager")}function getCookie(e){for(var o=e+"=",n=decodeURI(document.cookie).split(";"),t=0;t<n.length;t++){for(var i=n[t];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(o))return i.substring(o.length,i.length)}return""}function setCookie(e,o,n){var t=getCookieDomain(),i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toGMTString();document.cookie=e+"="+o+";domain="+t+";"+r+";path=/"}function getCookieDomain(){var e=location.hostname.split(".").reverse();return"."+e[1]+"."+e[0]}function getDomainName(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}function enableDoNotSellManager(){if("undefined"!=typeof enableGeolocation&&!0===enableGeolocation){var e=localStorage.getItem("countryCode"),o=localStorage.getItem("regionCode");null===e&&null===o?getUserGeolocation(function(e,o){if(e)return!1;var n=JSON.parse(o),t=n.countryCode,i=n.regionCode;localStorage.setItem("countryCode",t),localStorage.setItem("regionCode",i),enableDoNotSellManager()}):checkGeolocationCondition(e,o)?showDoNotSellManager():window.location.href=standardDsrFormUrl}else showDoNotSellManager()}function checkGeolocationCondition(e,o){return"undefined"==typeof countryList||null===countryList||0===countryList.length||1===countryList.length&&""===countryList[0]||("undefined"==typeof regionList||null===regionList||0===regionList.length||1===regionList.length&&""===regionList[0]?countryList.includes(e.toUpperCase()):countryList.includes(e.toUpperCase())&&regionList.includes(o.toUpperCase()))}function checkEnforcementScope(e){return"undefined"==typeof enforcementScopeRegionList||null===enforcementScopeRegionList||0===enforcementScopeRegionList.length||1===enforcementScopeRegionList.length&&""===enforcementScopeRegionList[0]||enforcementScopeRegionList.includes(e.toUpperCase())}function getUserGeolocation(e){var o="https://"+claripHost+"/donotsell/api/location.php",n=new XMLHttpRequest;n.open("GET",o,!1),n.onload=function(){e(null,n.response)},n.onerror=function(){e(n.response)},n.send()}window.YETT_WHITELIST="undefined"!=typeof domainList?domainList:[],getCookie(doNotSellCookieName)==doNotSellCookieValue&&blockThirdPartyScripts(),window.addEventListener("message",receiveMessageFromClaripDnsManager,!1),window.addEventListener("load",function(){createClaripDoNotSellManager();for(var e=document.querySelectorAll(doNotSellLinkSelector),o=0;o<e.length;o++)e[o].onclick=function(){return claripDoNotSellManagerHandler(),!1}});